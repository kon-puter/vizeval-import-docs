
\section{Použité technologie}
\improvement{pořád se opakuje používáme, první osoba na popis postupu }

Aplikace používá framework \href{https://symfony.com/}{Symfony}.
Symfony je open-source PHP framework, který je vydán pod MIT licencí.
Využívá návrhový vzor MVC a moderní PHP.
Symfony je modulární a jednoduše rozšiřitelný pomocí existujících bundlů/componentů, klade důraz na možnost konfigurace a standardizaci.
To je jeden z hlavních důvodů, proč byl tento framework vybrán.
Používá ho přes 600000 vývojářů a má 713M stažení měsíčně.\cite{symfony:what-is}
Již spoustu problémů řeší za nás a zamezuje tím bezpečnostním a jiným chybám.


\subsection{Databáze}
Jako persistance vrstvu používáme Doctrine ORM, to nám poskytuje řadu výhod jako typesafe mapování a nezávislost na databázi\footnote{Doctrine ORM aktuálně podporuje PostgreSQL, MySQL, Oracle, SQL server a další\cite{doctrine-supported-dbs}}.
S Doctrine používáme přístup code first, napíšeme standardní PHP třídu, kde pomocí atributů přidáme informace o mapování. 

Pro uchovávání dat používáme relační databázi PostgreSQL, ta podporuje pokročilejší funkce jako transakce DDL narozdíl od MySQL.  


\subsection{Symfony EasyAdmin}

Jedná se o bundle, který je určen k vytváření administrací.
Vstupním bodem takové administrace je Dashboard, který obsahuje další stránky, těmi můžou být CRUD stránky EasyAdminu nebo vlastní stránka.

Síla EasyAdminu spočívá v integraci společně s Doctrine.
Dokáže vytvořit pro danou entitu CRUD stránku, která je jednoduše upravitelná a přizpůsobitelná.
EasyAdmin poskytuje důležité prvky administrace jako stránkování a filtry.
Poskytuje možnost doplnění o nové akce. Akce nějakým způsobem manipulují s instancí/instancemi entity.

EasyAdmin umožňuje změnit vzhled přepsáním výchozích templatů.


\subsection{Serverové technologie}
Jako web server používáme FrankenPHP, moderní PHP server založený na serveru Caddy.
FrankenPHP podporuje worker mode, který umožňuje znovu použití PHP interpretoru při dalším requestu. Kvůli toho je důležité, aby v služby v DI kontejneru byly bezstavové nebo byly označeny \codename{kernel.reset} tagem.
Další funkcí je podpora Early hints, což dovoluje prohlížeči přednačíst ostatní zdroje před vrácením finální odpovědi.

Naše aplikace je nasazována pomocí dockeru. Pro každou školu máme zvlášť container s databázovým a webovým serverem.
Jako reverse proxy používáme Traefic, který nám umožňuje jednoduchou správu instancí.

\subsection{Frontendové technologie}

Aplikace využívá balíky z iniciativy \href{https://ux.symfony.com/}{Symfony UX} jako forntendové řešení.

Celý import obsahuje úplné minimum JavaScriptu, ten je navíc ve Stimulus kontrolerech. 

Pro připojení kontroleru se označní HTML prvek, na který se má kontroler připojit a potom má kontroler přístup k targetům. Targety jsou HTML prvky označené daným tagem.

Taky používám Hotwire Turbo\label{ux-turbo}, které napodobuje funkcionalitu SPA bez přidané komplexity. Turbo funguje skvěle se Stimulusem.
Na některé části importu je použit LiveComponent, což je něco jako Phoenix LiveWire, kde je uživatelské rozhraní řízeno přímo ze strany serveru. 
Většina formulářů je sestavena pomocí Symfony Form, ten se potom stará o mapování vstupu a validaci\footnote{Na validaci používá Symfony Validator.}.
Symfony Form vygeneruje přímo HTML form se všemi potřebnými náležitostmi jako zpracování chyb a stylování\footnote{Jako styl je možno specifikovat template. My používáme Bootstrap}, taky zamezuje XSRF útokům\footnote{Do formuláře vkládá XSRF token, který potom validuje.}.

\subsection{Konečný automat}\label{uvod:konecny-automat}
  \unsure{ODPAD!!!}
Je matematický výpočetní model , který může být v právě jednom stavu.\cite{wiki:finite-state-machine-en} Když automat přechází z jednoho stavu do druhého nazývá se to přechod (transition).
Automat se nazývá konečným, protože má jen konečný počet stavů.
Využívají se pro parsování formálních jazyků a jsou užitečné při modelování logiky aplikace.
Mezi konkrétní využití patří parsování regularních výrazů.\cite{wiki:finite-state-machine-cz}

Jako implementaci konečného automatu používám Symfony Workflow.
Taky je konečný automat používán při zvýrazňování výrazů v editoru Ace.


